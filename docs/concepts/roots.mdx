---
title: "ルート"
description: "MCPにおけるルートの理解"
---

ルートは、サーバーが操作できる範囲を定義するMCPの概念です。クライアントがサーバーに関連するリソースとその場所を通知する方法を提供します。

## ルートとは？

ルートは、クライアントがサーバーに注目すべきURIを提案するものです。クライアントがサーバーに接続する際、サーバーが作業すべきルートを宣言します。主にファイルシステムパスで使用されますが、ルートはHTTP URLを含む任意の有効なURIにすることができます。

例えば、ルートは以下のようになります:

```
file:///home/user/projects/myapp
https://api.example.com/v1
```

## ルートを使用する理由

ルートにはいくつかの重要な目的があります:

1. **ガイダンス**: 関連するリソースと場所をサーバーに通知します
2. **明確化**: ワークスペースの一部であるリソースを明確にします
3. **整理**: 複数のルートを使用することで、異なるリソースを同時に作業できます

## ルートの仕組み

ルートをサポートするクライアントは以下のことを行います:

1. 接続時に`roots`機能を宣言します
2. サーバーに提案するルートのリストを提供します
3. ルートが変更された場合（サポートされている場合）、サーバーに通知します

ルートは情報提供であり厳密な強制力はありませんが、サーバーは以下のことを行うべきです:

1. 提供されたルートを尊重します
2. リソースを特定してアクセスするためにルートURIを使用します
3. ルートの境界内での操作を優先します

## 一般的な使用例

ルートは通常、以下の定義に使用されます:

- プロジェクトディレクトリ
- リポジトリの場所
- APIエンドポイント
- 設定場所
- リソースの境界

## ベストプラクティス

ルートを扱う際には以下の点に注意してください:

1. 必要なリソースのみを提案します
2. ルートには明確で説明的な名前を使用します
3. ルートのアクセシビリティを監視します
4. ルートの変更を適切に処理します

## 例

典型的なMCPクライアントがルートを公開する方法の例:

```json
{
  "roots": [
    {
      "uri": "file:///home/user/projects/frontend",
      "name": "フロントエンドリポジトリ"
    },
    {
      "uri": "https://api.example.com/v1",
      "name": "APIエンドポイント"
    }
  ]
}
```

この設定では、サーバーにローカルリポジトリとAPIエンドポイントの両方に注目しつつ、論理的に分離することを提案しています。
